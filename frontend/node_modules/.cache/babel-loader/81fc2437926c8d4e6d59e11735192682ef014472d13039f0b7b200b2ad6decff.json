{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.json.parse.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport moment from 'moment-jalaali';\nexport default {\n  name: 'DoctorDetailed',\n  data() {\n    return {\n      // Doctor data\n      doctor: {\n        id: null,\n        firstName: '',\n        lastName: '',\n        specialty: '',\n        consultationFee: 0,\n        consultationTime: 30,\n        rating: 4.5,\n        reviewCount: 0,\n        experience: 0,\n        isOnline: false,\n        isVerified: false,\n        categories: [],\n        medicalCode: '',\n        contactInfo: '',\n        email: '',\n        isActive: false,\n        maxConcurrentConsultations: 3,\n        description: '',\n        education: ''\n      },\n      // Doctor schedules\n      doctorSchedules: {},\n      // API configuration\n      apiBaseUrl: 'http://localhost:8000',\n      // UI states\n      loading: true,\n      error: null,\n      userProfileImage: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80',\n      showProfileMenu: false,\n      showSuccessModal: false,\n      // Booking data\n      bookingStep: 1,\n      selectedDate: null,\n      selectedSlot: null,\n      consultationSubject: '',\n      consultationDescription: '',\n      paymentMethod: null,\n      termsAccepted: false,\n      processingPayment: false,\n      // Calendar data\n      currentDate: moment(),\n      persianMonth: '',\n      persianYear: '',\n      persianWeekdays: ['ش', 'ی', 'د', 'س', 'چ', 'پ', 'ج'],\n      compactCalendarDays: [],\n      // Time slots data\n      loadingTimeSlots: false,\n      availableTimeSlots: [],\n      // Wallet balance\n      walletBalance: 150.50,\n      // Medical categories\n      medicalCategories: [{\n        id: 'cardiology',\n        name: 'Cardiology'\n      }, {\n        id: 'dermatology',\n        name: 'Dermatology'\n      }, {\n        id: 'pediatrics',\n        name: 'Pediatrics'\n      }, {\n        id: 'neurology',\n        name: 'Neurology'\n      }, {\n        id: 'orthopedics',\n        name: 'Orthopedics'\n      }, {\n        id: 'psychiatry',\n        name: 'Psychiatry'\n      }, {\n        id: 'dentistry',\n        name: 'Dentistry'\n      }, {\n        id: 'ophthalmology',\n        name: 'Ophthalmology'\n      }, {\n        id: 'endocrinology',\n        name: 'Endocrinology'\n      }, {\n        id: 'gastroenterology',\n        name: 'Gastroenterology'\n      }],\n      // Default images\n      defaultDoctorImage: 'https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80'\n    };\n  },\n  computed: {\n    canProceedToPayment() {\n      return this.consultationSubject.trim() && this.consultationDescription.trim();\n    }\n  },\n  watch: {\n    selectedDate(newVal) {\n      if (newVal) {\n        this.selectedSlot = null;\n        this.fetchAvailableTimeSlots();\n      }\n    }\n  },\n  async mounted() {\n    await this.fetchDoctorData();\n    this.initializeCalendar();\n\n    // Get patient ID from localStorage\n    const userData = JSON.parse(localStorage.getItem('userData') || '{}');\n    this.patientId = userData.id;\n  },\n  methods: {\n    async fetchDoctorData() {\n      this.loading = true;\n      this.error = null;\n      try {\n        const doctorId = this.$route.params.id;\n        const authToken = localStorage.getItem('authToken');\n        console.log(1);\n        if (!authToken) {\n          throw new Error('Authentication required. Please login first.');\n        }\n\n        // Fetch doctor details\n        const response = await fetch(`${this.apiBaseUrl}/doctors/${doctorId}/`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${authToken}`\n          }\n        });\n        if (!response.ok) {\n          if (response.status === 401) {\n            throw new Error('Session expired. Please login again.');\n          }\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n\n        // Transform API data to UI format\n        this.doctor = {\n          id: data.id,\n          firstName: data.user?.firstName || '',\n          lastName: data.user?.lastName || '',\n          email: data.user?.email || '',\n          phone: data.user?.phone || '',\n          specialty: this.getSpecialtyFromCategories(data.categories),\n          consultationFee: data.consultationPrice || 0,\n          consultationTime: 30,\n          // Default\n          rating: this.getRandomRating(),\n          reviewCount: this.getRandomReviewCount(),\n          experience: this.getRandomExperience(),\n          isOnline: Math.random() > 0.5,\n          isVerified: !!data.medicalCode,\n          isActive: data.isActive || false,\n          categories: data.categories || [],\n          medicalCode: data.medicalCode || '',\n          contactInfo: data.contactInfo || '',\n          maxConcurrentConsultations: data.maxConcurrentConsultations || 3,\n          description: `Dr. ${data.user?.lastName} is a medical specialist with extensive experience.`,\n          education: 'Medical degree',\n          profileImage: this.defaultDoctorImage\n        };\n\n        // Store doctor schedules\n        this.doctorSchedules = data.schedules || {};\n      } catch (err) {\n        console.error('Error fetching doctor data:', err);\n        this.error = err.message || 'Failed to load doctor information. Please try again.';\n\n        // Use mock data for development\n        if (process.env.NODE_ENV === 'development') {\n          this.useMockDoctorData();\n        }\n      } finally {\n        this.loading = false;\n      }\n    },\n    useMockDoctorData() {\n      const doctorId = this.$route.params.id;\n      this.doctor = {\n        id: doctorId,\n        firstName: 'James',\n        lastName: 'Wilson',\n        specialty: 'Cardiology',\n        consultationFee: 250,\n        consultationTime: 30,\n        rating: 4.8,\n        reviewCount: 342,\n        experience: 15,\n        isOnline: true,\n        isVerified: true,\n        isActive: true,\n        categories: ['cardiology'],\n        medicalCode: 'CA-123456',\n        contactInfo: '+1 (555) 123-4567',\n        email: 'dr.wilson@medicare.com',\n        maxConcurrentConsultations: 3,\n        description: 'Dr. Wilson is a board-certified cardiologist with 15 years of experience specializing in heart diseases.',\n        education: 'MD, Harvard Medical School',\n        profileImage: this.defaultDoctorImage\n      };\n\n      // Mock schedules\n      this.doctorSchedules = {\n        \"1\": [\n        // Saturday\n        {\n          id: 1,\n          startTime: \"09:00\",\n          endTime: \"09:30\",\n          duration: null\n        }, {\n          id: 2,\n          startTime: \"10:00\",\n          endTime: \"10:30\",\n          duration: null\n        }],\n        \"2\": [\n        // Sunday\n        {\n          id: 3,\n          startTime: \"14:00\",\n          endTime: \"14:30\",\n          duration: null\n        }, {\n          id: 4,\n          startTime: \"15:00\",\n          endTime: \"15:30\",\n          duration: null\n        }],\n        \"3\": [\n        // Monday\n        {\n          id: 5,\n          startTime: \"11:00\",\n          endTime: \"11:30\",\n          duration: null\n        }]\n      };\n    },\n    getSpecialtyFromCategories(categories) {\n      if (!categories || categories.length === 0) {\n        return 'General Medicine';\n      }\n      const category = this.medicalCategories.find(c => c.id === categories[0]);\n      return category ? category.name : 'General Medicine';\n    },\n    getRandomRating() {\n      return parseFloat((3.5 + Math.random() * 1.5).toFixed(1));\n    },\n    getRandomReviewCount() {\n      return Math.floor(Math.random() * 450) + 50;\n    },\n    getRandomExperience() {\n      return Math.floor(Math.random() * 30) + 1;\n    },\n    async fetchAvailableTimeSlots() {\n      if (!this.selectedDate) return;\n      this.loadingTimeSlots = true;\n      this.availableTimeSlots = [];\n      try {\n        const authToken = localStorage.getItem('authToken');\n        const doctorId = this.$route.params.id;\n\n        // Convert selected date to Jalali format\n        const jalaliDate = this.convertToJalali(this.selectedDate);\n        console.log;\n        const response = await fetch(`${this.apiBaseUrl}/doctors/${doctorId}/available-slots?date=${jalaliDate}`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${authToken}`\n          }\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        if (Array.isArray(data)) {\n          this.availableTimeSlots = data;\n        }\n      } catch (err) {\n        console.error('Error fetching time slots:', err);\n\n        // Use mock data for development\n        if (process.env.NODE_ENV === 'development') {\n          this.useMockTimeSlots();\n        }\n      } finally {\n        this.loadingTimeSlots = false;\n      }\n    },\n    useMockTimeSlots() {\n      // Generate mock time slots based on selected date\n      const date = moment(this.selectedDate);\n      const dayOfWeek = date.day(); // 0 = Sunday, 1 = Monday, etc.\n\n      // Convert to Persian day numbering (Saturday = 1)\n      let persianDay;\n      if (dayOfWeek === 6) persianDay = 1; // Saturday\n      else if (dayOfWeek === 0) persianDay = 2; // Sunday\n      else if (dayOfWeek === 1) persianDay = 3; // Monday\n      else if (dayOfWeek === 2) persianDay = 4; // Tuesday\n      else if (dayOfWeek === 3) persianDay = 5; // Wednesday\n      else if (dayOfWeek === 4) persianDay = 6; // Thursday\n      else if (dayOfWeek === 5) persianDay = 7; // Friday\n\n      const daySchedules = this.doctorSchedules[persianDay.toString()] || [];\n      this.availableTimeSlots = daySchedules.map(schedule => ({\n        scheduleId: schedule.id,\n        startTime: schedule.startTime,\n        endTime: schedule.endTime,\n        remainingCapacity: Math.floor(Math.random() * 3) + 1\n      }));\n    },\n    selectTimeSlot(slot) {\n      this.selectedSlot = slot;\n    },\n    async goToTimeSelection() {\n      if (!this.selectedDate) return;\n      this.bookingStep = 2;\n    },\n    async processPayment() {\n      this.processingPayment = true;\n      try {\n        const authToken = localStorage.getItem('authToken');\n        const doctorId = this.$route.params.id;\n\n        // Get patient ID from localStorage\n        const userData = JSON.parse(localStorage.getItem('userData') || '{}');\n        const patientId = userData.id;\n        if (!patientId) {\n          throw new Error('Patient information not found. Please login again.');\n        }\n        if (!this.selectedSlot) {\n          throw new Error('No time slot selected');\n        }\n\n        // Convert selected date to Jalali format\n        const reservedDateJalali = this.convertToJalali(this.selectedDate);\n\n        // Prepare booking payload\n        const bookingPayload = {\n          doctorId: parseInt(doctorId),\n          patientId: parseInt(patientId),\n          scheduleId: this.selectedSlot.scheduleId,\n          subject: this.consultationSubject,\n          description: this.consultationDescription,\n          reservedDateJalali: reservedDateJalali,\n          paymentMethod: this.paymentMethod\n        };\n\n        // Submit reservation\n        const response = await fetch(`${this.apiBaseUrl}/consultations/`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${authToken}`\n          },\n          body: JSON.stringify(bookingPayload)\n        });\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(errorData.message || 'Failed to book appointment');\n        }\n\n        // Success\n        this.showSuccessModal = true;\n      } catch (err) {\n        console.error('Payment error:', err);\n        alert(err.message || 'Payment failed. Please try again.');\n      } finally {\n        this.processingPayment = false;\n      }\n    },\n    // Calendar Functions\n    initializeCalendar() {\n      this.updateCalendarDisplay();\n      this.generateCalendarDays();\n    },\n    updateCalendarDisplay() {\n      this.persianMonth = this.currentDate.format('jMMMM');\n      this.persianYear = this.currentDate.format('jYYYY');\n    },\n    generateCalendarDays() {\n      const days = [];\n      const startOfMonth = this.currentDate.clone().startOf('jMonth');\n      const endOfMonth = this.currentDate.clone().endOf('jMonth');\n      const startDay = startOfMonth.day(); // 0-6, 0 is Saturday in Persian calendar\n\n      // Adjust for Persian week starting on Saturday\n      const persianStartDay = startDay === 6 ? 0 : startDay + 1;\n\n      // Add empty days at the start\n      for (let i = 0; i < persianStartDay; i++) {\n        days.push({\n          date: null,\n          persianDay: '',\n          dateString: null,\n          available: false,\n          isToday: false\n        });\n      }\n\n      // Add days of the month\n      for (let i = 1; i <= endOfMonth.jDate(); i++) {\n        const date = this.currentDate.clone().jDate(i).jYear(this.currentDate.jYear()).jMonth(this.currentDate.jMonth());\n        const gregorianDate = date.toDate();\n        const dateString = gregorianDate.toISOString().split('T')[0];\n        const today = moment();\n        const isToday = date.format('jYYYY/jMM/jDD') === today.format('jYYYY/jMM/jDD');\n\n        // Check if this day is available (has schedules)\n        const dayOfWeek = date.day();\n        const persianDay = this.getPersianDayOfWeek(dayOfWeek);\n        const hasSchedules = this.doctorSchedules[persianDay.toString()] && this.doctorSchedules[persianDay.toString()].length > 0;\n        days.push({\n          date: date,\n          persianDay: i.toString(),\n          dateString: dateString,\n          available: hasSchedules,\n          isToday: isToday\n        });\n      }\n\n      // Add empty days at the end to make 6 rows (42 days)\n      const totalDays = days.length;\n      const remainingDays = 42 - totalDays;\n      for (let i = 0; i < remainingDays; i++) {\n        days.push({\n          date: null,\n          persianDay: '',\n          dateString: null,\n          available: false,\n          isToday: false\n        });\n      }\n\n      // Take only the first 35 days for compact view (5 weeks)\n      this.compactCalendarDays = days.slice(0, 35);\n    },\n    getPersianDayOfWeek(gregorianDay) {\n      // Convert Gregorian day (0=Sunday) to Persian day (1=Saturday, 7=Friday)\n      if (gregorianDay === 6) return 1; // Saturday\n      if (gregorianDay === 0) return 2; // Sunday\n      if (gregorianDay === 1) return 3; // Monday\n      if (gregorianDay === 2) return 4; // Tuesday\n      if (gregorianDay === 3) return 5; // Wednesday\n      if (gregorianDay === 4) return 6; // Thursday\n      if (gregorianDay === 5) return 7; // Friday\n    },\n    previousMonth() {\n      this.currentDate.subtract(1, 'jMonth');\n      this.updateCalendarDisplay();\n      this.generateCalendarDays();\n    },\n    nextMonth() {\n      this.currentDate.add(1, 'jMonth');\n      this.updateCalendarDisplay();\n      this.generateCalendarDays();\n    },\n    selectDate(dateString) {\n      this.selectedDate = dateString;\n    },\n    formatSelectedDate(dateString) {\n      if (!dateString) return '';\n      const date = moment(dateString);\n      return date.format('jYYYY/jMM/jDD');\n    },\n    convertToJalali(dateString) {\n      const date = moment(dateString);\n      return date.format('jYYYY/jMM/jDD');\n    },\n    getCategoryName(categoryId) {\n      const category = this.medicalCategories.find(c => c.id === categoryId);\n      return category ? category.name : categoryId;\n    },\n    contactSupport() {\n      alert('Support contact feature coming soon!');\n    },\n    goToAppointments() {\n      this.$router.push('/appointments');\n    },\n    goToProfile() {\n      this.$router.push('/profile');\n    },\n    goToConsultants() {\n      this.$router.push('/consultants');\n    },\n    handleLogout() {\n      localStorage.removeItem('authToken');\n      localStorage.removeItem('userData');\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["moment","name","data","doctor","id","firstName","lastName","specialty","consultationFee","consultationTime","rating","reviewCount","experience","isOnline","isVerified","categories","medicalCode","contactInfo","email","isActive","maxConcurrentConsultations","description","education","doctorSchedules","apiBaseUrl","loading","error","userProfileImage","showProfileMenu","showSuccessModal","bookingStep","selectedDate","selectedSlot","consultationSubject","consultationDescription","paymentMethod","termsAccepted","processingPayment","currentDate","persianMonth","persianYear","persianWeekdays","compactCalendarDays","loadingTimeSlots","availableTimeSlots","walletBalance","medicalCategories","defaultDoctorImage","computed","canProceedToPayment","trim","watch","newVal","fetchAvailableTimeSlots","mounted","fetchDoctorData","initializeCalendar","userData","JSON","parse","localStorage","getItem","patientId","methods","doctorId","$route","params","authToken","console","log","Error","response","fetch","method","headers","ok","status","json","user","phone","getSpecialtyFromCategories","consultationPrice","getRandomRating","getRandomReviewCount","getRandomExperience","Math","random","profileImage","schedules","err","message","process","env","NODE_ENV","useMockDoctorData","startTime","endTime","duration","length","category","find","c","parseFloat","toFixed","floor","jalaliDate","convertToJalali","Array","isArray","useMockTimeSlots","date","dayOfWeek","day","persianDay","daySchedules","toString","map","schedule","scheduleId","remainingCapacity","selectTimeSlot","slot","goToTimeSelection","processPayment","reservedDateJalali","bookingPayload","parseInt","subject","body","stringify","errorData","alert","updateCalendarDisplay","generateCalendarDays","format","days","startOfMonth","clone","startOf","endOfMonth","endOf","startDay","persianStartDay","i","push","dateString","available","isToday","jDate","jYear","jMonth","gregorianDate","toDate","toISOString","split","today","getPersianDayOfWeek","hasSchedules","totalDays","remainingDays","slice","gregorianDay","previousMonth","subtract","nextMonth","add","selectDate","formatSelectedDate","getCategoryName","categoryId","contactSupport","goToAppointments","$router","goToProfile","goToConsultants","handleLogout","removeItem"],"sources":["F:\\programming\\medical-consultant\\frontend\\src\\components\\DoctorDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"doctor-detail-container\">\r\n    <!-- Animated Background -->\r\n    <div class=\"animated-bg\">\r\n      <div class=\"bg-circle circle-1\"></div>\r\n      <div class=\"bg-circle circle-2\"></div>\r\n      <div class=\"bg-circle circle-3\"></div>\r\n      <div class=\"bg-pulse\"></div>\r\n    </div>\r\n\r\n    <!-- Header (Your provided header) -->\r\n    <header class=\"doctors-header\">\r\n      <div class=\"header-content\">\r\n        <div class=\"back-btn\" @click=\"$router.go(-1)\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path fill-rule=\"evenodd\" d=\"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z\" clip-rule=\"evenodd\" />\r\n          </svg>\r\n        </div>\r\n        <div class=\"user-profile\" @click=\"showProfileMenu = !showProfileMenu\">\r\n          <img :src=\"userProfileImage\" alt=\"Profile\" class=\"profile-img\">\r\n          <div class=\"profile-menu\" v-if=\"showProfileMenu\">\r\n            <div class=\"menu-item\" @click=\"goToProfile\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path fill-rule=\"evenodd\" d=\"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z\" clip-rule=\"evenodd\" />\r\n              </svg>\r\n              My Profile\r\n            </div>\r\n            <div class=\"menu-item\" @click=\"goToConsultants\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path fill-rule=\"evenodd\" d=\"M8.25 6.75a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM15.75 9.75a3 3 0 116 0 3 3 0 01-6 0zM2.25 9.75a3 3 0 116 0 3 3 0 01-6 0zM6.31 15.117A6.745 6.745 0 0112 12a6.745 6.745 0 016.709 7.498.75.75 0 01-.372.568A12.696 12.696 0 0112 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 01-.372-.568 6.787 6.786 0 011.019-4.38z\" clip-rule=\"evenodd\" />\r\n                <path d=\"M5.082 14.254a8.287 8.287 0 00-1.308 5.135 9.687 9.687 0 01-1.764-.44l-.115-.04a.563.563 0 01-.373-.487l-.01-.121a3.75 3.75 0 013.57-4.047zM20.226 19.389a8.287 8.287 0 00-1.308-5.135 3.75 3.75 0 013.57 4.047l-.01.121a.563.563 0 01-.373.486l-.115.04c-.567.2-1.156.349-1.764.441z\" />\r\n              </svg>\r\n              My Consultants\r\n            </div>\r\n\r\n            <div class=\"menu-item logout\" @click=\"handleLogout\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path fill-rule=\"evenodd\" d=\"M7.5 3.75A1.5 1.5 0 006 5.25v13.5a1.5 1.5 0 001.5 1.5h6a1.5 1.5 0 001.5-1.5V15a.75.75 0 011.5 0v3.75a3 3 0 01-3 3h-6a3 3 0 01-3-3V5.25a3 3 0 013-3h6a3 3 0 013 3V9A.75.75 0 0115 9V5.25a1.5 1.5 0 00-1.5-1.5h-6zm5.03 4.72a.75.75 0 010 1.06l-1.72 1.72h10.94a.75.75 0 010 1.5H10.81l1.72 1.72a.75.75 0 11-1.06 1.06l-3-3a.75.75 0 010-1.06l3-3a.75.75 0 011.06 0z\" clip-rule=\"evenodd\" />\r\n              </svg>\r\n              Logout\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n\r\n    <!-- Loading State -->\r\n    <div v-if=\"loading\" class=\"loading-container\">\r\n      <div class=\"spinner\"></div>\r\n      <p>Loading doctor information...</p>\r\n    </div>\r\n\r\n    <!-- Error State -->\r\n    <div v-else-if=\"error\" class=\"error-container\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n        <path fill-rule=\"evenodd\" d=\"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z\" clip-rule=\"evenodd\" />\r\n      </svg>\r\n      <h3>Unable to Load Profile</h3>\r\n      <p>{{ error }}</p>\r\n      <button @click=\"fetchDoctorData\" class=\"retry-btn\">Try Again</button>\r\n    </div>\r\n\r\n    <!-- Main Content -->\r\n    <div v-else class=\"detail-content\">\r\n      <div class=\"content-wrapper\">\r\n        <!-- Left Column: Doctor Info -->\r\n        <div class=\"info-column\">\r\n          <!-- Doctor Profile Card -->\r\n          <div class=\"profile-card\">\r\n            <div class=\"profile-header\">\r\n              <div class=\"profile-image\">\r\n                <img :src=\"doctor.profileImage || defaultDoctorImage\" :alt=\"doctor.name\">\r\n                <div class=\"online-status\" :class=\"{ online: doctor.isOnline }\">\r\n                  {{ doctor.isOnline ? 'Online' : 'Offline' }}\r\n                </div>\r\n              </div>\r\n              <div class=\"profile-info\">\r\n                <div class=\"name-row\">\r\n                  <h2 class=\"doctor-name\">Dr. {{ doctor.firstName }} {{ doctor.lastName }}</h2>\r\n                  <div class=\"verification-badge\" v-if=\"doctor.isVerified\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path fill-rule=\"evenodd\" d=\"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12a4.49 4.49 0 01-1.549 3.397 4.491 4.491 0 01-1.307 3.497 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.49 4.49 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z\" clip-rule=\"evenodd\" />\r\n                    </svg>\r\n                    Verified Doctor\r\n                  </div>\r\n                </div>\r\n                <p class=\"doctor-specialty\">{{ doctor.specialty }}</p>\r\n                \r\n                <!-- Rating -->\r\n                <div class=\"rating-section\">\r\n                  <div class=\"rating-display\">\r\n                    <div class=\"stars\">\r\n                      <svg v-for=\"star in 5\" :key=\"star\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"\r\n                        :class=\"{ 'filled': star <= Math.floor(doctor.rating), 'half': star - 0.5 === doctor.rating }\">\r\n                        <path fill-rule=\"evenodd\" d=\"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z\" clip-rule=\"evenodd\" />\r\n                      </svg>\r\n                    </div>\r\n                    <span class=\"rating-value\">{{ doctor.rating.toFixed(1) }}</span>\r\n                    <span class=\"review-count\">({{ doctor.reviewCount }} reviews)</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Quick Stats -->\r\n            <div class=\"quick-stats\">\r\n              <div class=\"stat\">\r\n                <span class=\"stat-number\">{{ doctor.experience }}+</span>\r\n                <span class=\"stat-label\">Years Experience</span>\r\n              </div>\r\n              <div class=\"stat\">\r\n                <span class=\"stat-number\">{{ doctor.patientsCount?.toLocaleString() || '5,000+' }}</span>\r\n                <span class=\"stat-label\">Patients</span>\r\n              </div>\r\n              <div class=\"stat\">\r\n                <span class=\"stat-number\">{{ doctor.successRate || '98' }}%</span>\r\n                <span class=\"stat-label\">Success Rate</span>\r\n              </div>\r\n              <div class=\"stat\">\r\n                <span class=\"stat-number\">{{ doctor.consultationTime || 30 }}</span>\r\n                <span class=\"stat-label\">Minutes/Session</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Doctor Details Sections -->\r\n          <div class=\"details-sections\">\r\n            <!-- Categories -->\r\n            <section class=\"detail-section\">\r\n              <h3 class=\"section-title\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path fill-rule=\"evenodd\" d=\"M2.25 6a3 3 0 013-3h13.5a3 3 0 013 3v12a3 3 0 01-3 3H5.25a3 3 0 01-3-3V6zm3.97.97a.75.75 0 011.06 0l2.25 2.25a.75.75 0 010 1.06l-2.25 2.25a.75.75 0 01-1.06-1.06l1.72-1.72-1.72-1.72a.75.75 0 010-1.06zm4.28 4.28a.75.75 0 000 1.5h3a.75.75 0 000-1.5h-3z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                Specialties & Categories\r\n              </h3>\r\n              <div class=\"categories-list\">\r\n                <span v-for=\"category in doctor.categories\" :key=\"category\" class=\"category-tag\">\r\n                  {{ getCategoryName(category) }}\r\n                </span>\r\n                <span v-if=\"!doctor.categories || doctor.categories.length === 0\" class=\"no-categories\">\r\n                  No specialties specified\r\n                </span>\r\n              </div>\r\n            </section>\r\n\r\n            <!-- Contact Information -->\r\n            <section class=\"detail-section\">\r\n              <h3 class=\"section-title\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path fill-rule=\"evenodd\" d=\"M1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                Contact Information\r\n              </h3>\r\n              <div class=\"contact-info\">\r\n                <div class=\"contact-item\">\r\n                  <span class=\"contact-label\">Medical License:</span>\r\n                  <span class=\"contact-value\">{{ doctor.medicalCode || 'Not specified' }}</span>\r\n                </div>\r\n                <div class=\"contact-item\">\r\n                  <span class=\"contact-label\">Clinic Phone:</span>\r\n                  <span class=\"contact-value\">{{ doctor.contactInfo || 'Not specified' }}</span>\r\n                </div>\r\n                <div class=\"contact-item\">\r\n                  <span class=\"contact-label\">Email:</span>\r\n                  <span class=\"contact-value\">{{ doctor.email || 'Not specified' }}</span>\r\n                </div>\r\n                <div class=\"contact-item\">\r\n                  <span class=\"contact-label\">Status:</span>\r\n                  <span class=\"contact-value\" :class=\"{ 'active': doctor.isActive, 'inactive': !doctor.isActive }\">\r\n                    {{ doctor.isActive ? 'Active' : 'Inactive' }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            <!-- Consultation Details -->\r\n            <section class=\"detail-section\">\r\n              <h3 class=\"section-title\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path fill-rule=\"evenodd\" d=\"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                Consultation Details\r\n              </h3>\r\n              <div class=\"consultation-details\">\r\n                <div class=\"detail-row\">\r\n                  <span class=\"detail-label\">Session Duration:</span>\r\n                  <span class=\"detail-value\">{{ doctor.consultationTime || 30 }} minutes</span>\r\n                </div>\r\n                <div class=\"detail-row\">\r\n                  <span class=\"detail-label\">Consultation Fee:</span>\r\n                  <span class=\"detail-value fee\">${{ doctor.consultationFee }}/session</span>\r\n                </div>\r\n                <div class=\"detail-row\">\r\n                  <span class=\"detail-label\">Max Concurrent:</span>\r\n                  <span class=\"detail-value\">{{ doctor.maxConcurrentConsultations || 3 }} patients</span>\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            <!-- About Doctor -->\r\n            <section class=\"detail-section\">\r\n              <h3 class=\"section-title\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path fill-rule=\"evenodd\" d=\"M4.804 21.644A6.707 6.707 0 006 21.75a6.721 6.721 0 003.583-1.029c.774.182 1.584.279 2.417.279 5.322 0 9.75-3.97 9.75-9 0-5.03-4.428-9-9.75-9s-9.75 3.97-9.75 9c0 2.409 1.025 4.587 2.674 6.192.232.226.277.428.254.543a3.73 3.73 0 01-.814 1.686.75.75 0 00.44 1.223zM8.25 10.875a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25zM10.875 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875-1.125a1.125 1.125 0 100 2.25 1.125 1.125 0 000-2.25z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                About Dr. {{ doctor.lastName }}\r\n              </h3>\r\n              <p class=\"about-text\">{{ doctor.description || `Dr. ${doctor.lastName} is a medical specialist with ${doctor.experience} years of experience.` }}</p>\r\n              <div v-if=\"doctor.education\" class=\"education\">\r\n                <strong>Education:</strong> {{ doctor.education }}\r\n              </div>\r\n            </section>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Right Column: Booking Widget -->\r\n        <div class=\"booking-column\">\r\n          <div class=\"booking-widget\">\r\n            <div class=\"widget-header\">\r\n              <h3>Book an Appointment</h3>\r\n              <div class=\"consultation-fee\">\r\n                <span class=\"fee-label\">Consultation Fee</span>\r\n                <span class=\"fee-amount\">${{ doctor.consultationFee }}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"widget-body\">\r\n              <!-- Booking Steps Indicator -->\r\n              <div class=\"booking-steps\">\r\n                <div class=\"step\" :class=\"{ active: bookingStep >= 1, completed: bookingStep > 1 }\">\r\n                  <div class=\"step-number\">1</div>\r\n                  <span class=\"step-label\">Select Date</span>\r\n                </div>\r\n                <div class=\"step-connector\"></div>\r\n                <div class=\"step\" :class=\"{ active: bookingStep >= 2, completed: bookingStep > 2 }\">\r\n                  <div class=\"step-number\">2</div>\r\n                  <span class=\"step-label\">Select Time</span>\r\n                </div>\r\n                <div class=\"step-connector\"></div>\r\n                <div class=\"step\" :class=\"{ active: bookingStep >= 3, completed: bookingStep > 3 }\">\r\n                  <div class=\"step-number\">3</div>\r\n                  <span class=\"step-label\">Details</span>\r\n                </div>\r\n                <div class=\"step-connector\"></div>\r\n                <div class=\"step\" :class=\"{ active: bookingStep >= 4 }\">\r\n                  <div class=\"step-number\">4</div>\r\n                  <span class=\"step-label\">Confirm & Pay</span>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- Back Button -->\r\n              <button v-if=\"bookingStep > 1\" class=\"back-step-btn\" @click=\"bookingStep--\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path fill-rule=\"evenodd\" d=\"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z\" clip-rule=\"evenodd\" />\r\n                </svg>\r\n                Back\r\n              </button>\r\n\r\n              <!-- Step 1: Date Selection -->\r\n              <div v-if=\"bookingStep === 1\" class=\"booking-step\">\r\n                <h4>Select Appointment Date</h4>\r\n                <p class=\"step-description\">Choose a date for your consultation</p>\r\n                \r\n                <!-- Compact Calendar -->\r\n                <div class=\"compact-calendar\">\r\n                  <div class=\"calendar-header\">\r\n                    <button class=\"calendar-nav\" @click=\"previousMonth\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path fill-rule=\"evenodd\" d=\"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z\" clip-rule=\"evenodd\" />\r\n                      </svg>\r\n                    </button>\r\n                    <h5 class=\"calendar-title\">{{ persianMonth }} {{ persianYear }}</h5>\r\n                    <button class=\"calendar-nav\" @click=\"nextMonth\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path fill-rule=\"evenodd\" d=\"M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z\" clip-rule=\"evenodd\" />\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div class=\"compact-weekdays\">\r\n                    <div v-for=\"day in persianWeekdays\" :key=\"day\" class=\"weekday\">{{ day }}</div>\r\n                  </div>\r\n                  \r\n                  <div class=\"compact-days\">\r\n                    <div \r\n                      v-for=\"(day, index) in compactCalendarDays\" \r\n                      :key=\"index\"\r\n                      :class=\"[\r\n                        'compact-day',\r\n                        { \r\n                          'empty': !day.date,\r\n                          'today': day.isToday,\r\n                          'selected': day.dateString === selectedDate,\r\n                          'available': day.available,\r\n                          'unavailable': !day.available && day.date\r\n                        }\r\n                      ]\"\r\n                      @click=\"day.available && day.date ? selectDate(day.dateString) : null\"\r\n                    >\r\n                      <span v-if=\"day.date\" class=\"day-number\">{{ day.persianDay }}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"date-selection-info\" v-if=\"selectedDate\">\r\n                  <p>Selected: <strong>{{ formatSelectedDate(selectedDate) }}</strong></p>\r\n                </div>\r\n                \r\n                <button \r\n                  class=\"next-step-btn\" \r\n                  :disabled=\"!selectedDate\"\r\n                  @click=\"goToTimeSelection\"\r\n                >\r\n                  Continue to Time Selection\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                    <path fill-rule=\"evenodd\" d=\"M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z\" clip-rule=\"evenodd\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              <!-- Step 2: Time Selection -->\r\n              <div v-else-if=\"bookingStep === 2\" class=\"booking-step\">\r\n                <h4>Select Appointment Time</h4>\r\n                <p class=\"step-description\">Choose a time slot on {{ formatSelectedDate(selectedDate) }}</p>\r\n                \r\n                <!-- Time Slots -->\r\n                <div class=\"time-slots-container\">\r\n                  <div class=\"time-slots-header\">\r\n                    <span>Available Time Slots</span>\r\n                  </div>\r\n                  \r\n                  <div v-if=\"loadingTimeSlots\" class=\"loading-time-slots\">\r\n                    <div class=\"spinner\"></div>\r\n                    <p>Loading available time slots...</p>\r\n                  </div>\r\n                  \r\n                  <div v-else-if=\"availableTimeSlots.length > 0\" class=\"time-slots-grid\">\r\n                    <button \r\n                      v-for=\"slot in availableTimeSlots\" \r\n                      :key=\"slot.scheduleId\"\r\n                      :class=\"['time-slot', { selected: selectedSlot?.scheduleId === slot.scheduleId }]\"\r\n                      @click=\"selectTimeSlot(slot)\"\r\n                      :disabled=\"slot.remainingCapacity === 0\"\r\n                    >\r\n                      {{ slot.startTime }} - {{ slot.endTime }}\r\n                      <span v-if=\"slot.remainingCapacity > 0\" class=\"slot-capacity\">\r\n                        ({{ slot.remainingCapacity }} left)\r\n                      </span>\r\n                      <span v-else class=\"slot-full\">(Full)</span>\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div v-else class=\"no-slots-message\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path fill-rule=\"evenodd\" d=\"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z\" clip-rule=\"evenodd\" />\r\n                    </svg>\r\n                    <p>No available time slots for this date</p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"time-selection-info\" v-if=\"selectedSlot\">\r\n                  <p>Selected Time: <strong>{{ selectedSlot.startTime }} - {{ selectedSlot.endTime }}</strong></p>\r\n                </div>\r\n                \r\n                <button \r\n                  class=\"next-step-btn\" \r\n                  :disabled=\"!selectedSlot\"\r\n                  @click=\"bookingStep = 3\"\r\n                >\r\n                  Continue to Details\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                    <path fill-rule=\"evenodd\" d=\"M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z\" clip-rule=\"evenodd\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              <!-- Step 3: Consultation Details -->\r\n              <div v-else-if=\"bookingStep === 3\" class=\"booking-step\">\r\n                <h4>Consultation Details</h4>\r\n                <p class=\"step-description\">Tell us about the consultation</p>\r\n                \r\n                <!-- Subject -->\r\n                <div class=\"form-group\">\r\n                  <label for=\"subject\">\r\n                    Subject <span class=\"required\">*</span>\r\n                  </label>\r\n                  <input \r\n                    type=\"text\" \r\n                    id=\"subject\" \r\n                    v-model=\"consultationSubject\"\r\n                    placeholder=\"Brief subject of your consultation\"\r\n                    maxlength=\"100\"\r\n                  />\r\n                  <div class=\"char-count\">{{ consultationSubject.length }}/100</div>\r\n                </div>\r\n\r\n                <!-- Description -->\r\n                <div class=\"form-group\">\r\n                  <label for=\"description\">\r\n                    Description <span class=\"required\">*</span>\r\n                  </label>\r\n                  <textarea \r\n                    id=\"description\" \r\n                    v-model=\"consultationDescription\"\r\n                    placeholder=\"Please describe your symptoms or reason for consultation\"\r\n                    rows=\"4\"\r\n                    maxlength=\"500\"\r\n                  ></textarea>\r\n                  <div class=\"char-count\">{{ consultationDescription.length }}/500</div>\r\n                </div>\r\n                \r\n                <button \r\n                  class=\"next-step-btn\" \r\n                  :disabled=\"!canProceedToPayment\"\r\n                  @click=\"bookingStep = 4\"\r\n                >\r\n                  Continue to Payment\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                    <path fill-rule=\"evenodd\" d=\"M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z\" clip-rule=\"evenodd\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              <!-- Step 4: Payment -->\r\n              <div v-else-if=\"bookingStep === 4\" class=\"booking-step\">\r\n                <h4>Confirm & Pay</h4>\r\n                <p class=\"step-description\">Review your appointment details and complete payment</p>\r\n                \r\n                <!-- Appointment Summary -->\r\n                <div class=\"appointment-summary\">\r\n                  <h5>Appointment Summary</h5>\r\n                  <div class=\"summary-details\">\r\n                    <div class=\"summary-row\">\r\n                      <span>Doctor:</span>\r\n                      <strong>Dr. {{ doctor.firstName }} {{ doctor.lastName }}</strong>\r\n                    </div>\r\n                    <div class=\"summary-row\">\r\n                      <span>Specialty:</span>\r\n                      <strong>{{ doctor.specialty }}</strong>\r\n                    </div>\r\n                    <div class=\"summary-row\">\r\n                      <span>Date:</span>\r\n                      <strong>{{ formatSelectedDate(selectedDate) }}</strong>\r\n                    </div>\r\n                    <div class=\"summary-row\">\r\n                      <span>Time:</span>\r\n                      <strong>{{ selectedSlot?.startTime }} - {{ selectedSlot?.endTime }}</strong>\r\n                    </div>\r\n                    <div class=\"summary-row\">\r\n                      <span>Subject:</span>\r\n                      <strong>{{ consultationSubject }}</strong>\r\n                    </div>\r\n                    <div class=\"summary-row total\">\r\n                      <span>Total Amount:</span>\r\n                      <strong class=\"total-amount\">${{ doctor.consultationFee }}</strong>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <!-- Payment Method Selection -->\r\n                <div class=\"payment-methods\">\r\n                  <h5>Select Payment Method</h5>\r\n                  <div class=\"payment-options\">\r\n                    <div \r\n                      :class=\"['payment-option', { selected: paymentMethod === 'WALLET' }]\"\r\n                      @click=\"paymentMethod = 'WALLET'\"\r\n                    >\r\n                      <div class=\"payment-icon\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                          <path d=\"M2.273 5.625A4.483 4.483 0 015.25 4.5h13.5c1.141 0 2.183.425 2.977 1.125A3 3 0 0018.75 3H5.25a3 3 0 00-2.977 2.625zM2.273 8.625A4.483 4.483 0 015.25 7.5h13.5c1.141 0 2.183.425 2.977 1.125A3 3 0 0018.75 6H5.25a3 3 0 00-2.977 2.625zM5.25 9a3 3 0 00-3 3v6a3 3 0 003 3h13.5a3 3 0 003-3v-6a3 3 0 00-3-3H15a.75.75 0 00-.75.75 2.25 2.25 0 01-4.5 0A.75.75 0 009 9H5.25z\" />\r\n                        </svg>\r\n                      </div>\r\n                      <div class=\"payment-info\">\r\n                        <h6>Online Wallet</h6>\r\n                        <p>Pay using your MediCare wallet balance</p>\r\n                        <span class=\"wallet-balance\">Current balance: ${{ walletBalance.toFixed(2) }}</span>\r\n                      </div>\r\n                      <div class=\"payment-check\" v-if=\"paymentMethod === 'WALLET'\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                          <path fill-rule=\"evenodd\" d=\"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z\" clip-rule=\"evenodd\" />\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div \r\n                      :class=\"['payment-option', { selected: paymentMethod === 'DIRECT' }]\"\r\n                      @click=\"paymentMethod = 'DIRECT'\"\r\n                    >\r\n                      <div class=\"payment-icon\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                          <path fill-rule=\"evenodd\" d=\"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM9 7.5A.75.75 0 009 9h1.5c.98 0 1.813.626 2.122 1.5H9A.75.75 0 009 12h3.622a2.251 2.251 0 01-2.122 1.5H9a.75.75 0 00-.53 1.28l3 3a.75.75 0 001.06-1.06l-1.73-1.732A3.752 3.752 0 0014.175 12H15a.75.75 0 000-1.5h-.825A3.733 3.733 0 0013.5 9H15a.75.75 0 000-1.5H9z\" clip-rule=\"evenodd\" />\r\n                        </svg>\r\n                      </div>\r\n                      <div class=\"payment-info\">\r\n                        <h6>Direct Payment</h6>\r\n                        <p>Pay using credit card or other payment methods</p>\r\n                        <span class=\"gateway-info\">Secure payment processed by Stripe</span>\r\n                      </div>\r\n                      <div class=\"payment-check\" v-if=\"paymentMethod === 'DIRECT'\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                          <path fill-rule=\"evenodd\" d=\"M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z\" clip-rule=\"evenodd\" />\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <!-- Payment Validation -->\r\n                <div class=\"payment-validation\" v-if=\"paymentMethod\">\r\n                  <div v-if=\"paymentMethod === 'WALLET' && doctor.consultationFee > walletBalance\" \r\n                       class=\"insufficient-balance\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <path fill-rule=\"evenodd\" d=\"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z\" clip-rule=\"evenodd\" />\r\n                    </svg>\r\n                    <p>Insufficient wallet balance. You need ${{ (doctor.consultationFee - walletBalance).toFixed(2) }} more.</p>\r\n                    <button @click=\"paymentMethod = 'DIRECT'\" class=\"switch-to-gateway\">\r\n                      Use Direct Payment Instead\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div v-else class=\"confirmation-section\">\r\n                    <label class=\"checkbox-container\">\r\n                      <input type=\"checkbox\" v-model=\"termsAccepted\">\r\n                      <span class=\"checkmark\"></span>\r\n                      I agree to the consultation terms and cancellation policy\r\n                    </label>\r\n                    \r\n                    <button \r\n                      class=\"confirm-payment-btn\" \r\n                      :disabled=\"!termsAccepted || processingPayment\"\r\n                      @click=\"processPayment\"\r\n                    >\r\n                      <span v-if=\"processingPayment\" class=\"spinner\"></span>\r\n                      <span v-else>\r\n                        {{ paymentMethod === 'WALLET' ? 'Confirm & Pay from Wallet' : 'Proceed to Payment Gateway' }}\r\n                      </span>\r\n                    </button>\r\n                    \r\n                    <p class=\"payment-note\">\r\n                      Your appointment will be confirmed immediately after successful payment.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Quick Contact Card -->\r\n          <div class=\"contact-card\">\r\n            <h4>Need Help?</h4>\r\n            <p>Contact our support team for assistance</p>\r\n            <button class=\"contact-support-btn\" @click=\"contactSupport\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path fill-rule=\"evenodd\" d=\"M1.5 4.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 006.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 011.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 01-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5z\" clip-rule=\"evenodd\" />\r\n              </svg>\r\n              Contact Support\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Success Modal -->\r\n    <div v-if=\"showSuccessModal\" class=\"modal-overlay\" @click.self=\"showSuccessModal = false\">\r\n      <div class=\"modal-content success-modal\">\r\n        <div class=\"modal-icon\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path fill-rule=\"evenodd\" d=\"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z\" clip-rule=\"evenodd\" />\r\n          </svg>\r\n        </div>\r\n        <h3>Appointment Confirmed!</h3>\r\n        <p>Your appointment with Dr. {{ doctor.firstName }} {{ doctor.lastName }} has been successfully booked.</p>\r\n        \r\n        <div class=\"appointment-details-modal\">\r\n          <div class=\"detail-row\">\r\n            <span>Date:</span>\r\n            <strong>{{ formatSelectedDate(selectedDate) }}</strong>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span>Time:</span>\r\n            <strong>{{ selectedSlot?.startTime }} - {{ selectedSlot?.endTime }}</strong>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span>Amount Paid:</span>\r\n            <strong class=\"amount\">${{ doctor.consultationFee }}</strong>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <span>Payment Method:</span>\r\n            <strong>{{ paymentMethod === 'WALLET' ? 'Online Wallet' : 'Direct Payment' }}</strong>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"modal-actions\">\r\n          <button class=\"modal-btn secondary\" @click=\"showSuccessModal = false\">\r\n            Close\r\n          </button>\r\n          <button class=\"modal-btn primary\" @click=\"goToAppointments\">\r\n            View My Appointments\r\n          </button>\r\n        </div>\r\n        \r\n        <p class=\"modal-note\">\r\n          You will receive a confirmation email shortly. Please arrive 10 minutes before your scheduled time.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment-jalaali';\r\n\r\nexport default {\r\n  name: 'DoctorDetailed',\r\n  \r\n  data() {\r\n    return {\r\n      // Doctor data\r\n      doctor: {\r\n        id: null,\r\n        firstName: '',\r\n        lastName: '',\r\n        specialty: '',\r\n        consultationFee: 0,\r\n        consultationTime: 30,\r\n        rating: 4.5,\r\n        reviewCount: 0,\r\n        experience: 0,\r\n        isOnline: false,\r\n        isVerified: false,\r\n        categories: [],\r\n        medicalCode: '',\r\n        contactInfo: '',\r\n        email: '',\r\n        isActive: false,\r\n        maxConcurrentConsultations: 3,\r\n        description: '',\r\n        education: ''\r\n      },\r\n      \r\n      // Doctor schedules\r\n      doctorSchedules: {},\r\n      \r\n      // API configuration\r\n      apiBaseUrl: 'http://localhost:8000',\r\n      \r\n      // UI states\r\n      loading: true,\r\n      error: null,\r\n      userProfileImage: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80',\r\n      showProfileMenu: false,\r\n      showSuccessModal: false,\r\n      \r\n      // Booking data\r\n      bookingStep: 1,\r\n      selectedDate: null,\r\n      selectedSlot: null,\r\n      consultationSubject: '',\r\n      consultationDescription: '',\r\n      paymentMethod: null,\r\n      termsAccepted: false,\r\n      processingPayment: false,\r\n      \r\n      // Calendar data\r\n      currentDate: moment(),\r\n      persianMonth: '',\r\n      persianYear: '',\r\n      persianWeekdays: ['ش', 'ی', 'د', 'س', 'چ', 'پ', 'ج'],\r\n      compactCalendarDays: [],\r\n      \r\n      // Time slots data\r\n      loadingTimeSlots: false,\r\n      availableTimeSlots: [],\r\n      \r\n      // Wallet balance\r\n      walletBalance: 150.50,\r\n      \r\n      // Medical categories\r\n      medicalCategories: [\r\n        { id: 'cardiology', name: 'Cardiology' },\r\n        { id: 'dermatology', name: 'Dermatology' },\r\n        { id: 'pediatrics', name: 'Pediatrics' },\r\n        { id: 'neurology', name: 'Neurology' },\r\n        { id: 'orthopedics', name: 'Orthopedics' },\r\n        { id: 'psychiatry', name: 'Psychiatry' },\r\n        { id: 'dentistry', name: 'Dentistry' },\r\n        { id: 'ophthalmology', name: 'Ophthalmology' },\r\n        { id: 'endocrinology', name: 'Endocrinology' },\r\n        { id: 'gastroenterology', name: 'Gastroenterology' }\r\n      ],\r\n      \r\n      // Default images\r\n      defaultDoctorImage: 'https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80'\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    canProceedToPayment() {\r\n      return this.consultationSubject.trim() && this.consultationDescription.trim();\r\n    }\r\n  },\r\n  \r\n  watch: {\r\n    selectedDate(newVal) {\r\n      if (newVal) {\r\n        this.selectedSlot = null;\r\n        this.fetchAvailableTimeSlots();\r\n      }\r\n    }\r\n  },\r\n  \r\n  async mounted() {\r\n    await this.fetchDoctorData();\r\n    this.initializeCalendar();\r\n    \r\n    // Get patient ID from localStorage\r\n    const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n    this.patientId = userData.id;\r\n  },\r\n  \r\n  methods: {\r\n    async fetchDoctorData() {\r\n      this.loading = true;\r\n      this.error = null;\r\n      \r\n      try {\r\n        const doctorId = this.$route.params.id;\r\n        const authToken = localStorage.getItem('authToken');\r\n        console.log(1);\r\n        if (!authToken) {\r\n          throw new Error('Authentication required. Please login first.');\r\n        }\r\n        \r\n        // Fetch doctor details\r\n        const response = await fetch(`${this.apiBaseUrl}/doctors/${doctorId}/`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${authToken}`\r\n          }\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          if (response.status === 401) {\r\n            throw new Error('Session expired. Please login again.');\r\n          }\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        \r\n        // Transform API data to UI format\r\n        this.doctor = {\r\n          id: data.id,\r\n          firstName: data.user?.firstName || '',\r\n          lastName: data.user?.lastName || '',\r\n          email: data.user?.email || '',\r\n          phone: data.user?.phone || '',\r\n          specialty: this.getSpecialtyFromCategories(data.categories),\r\n          consultationFee: data.consultationPrice || 0,\r\n          consultationTime: 30, // Default\r\n          rating: this.getRandomRating(),\r\n          reviewCount: this.getRandomReviewCount(),\r\n          experience: this.getRandomExperience(),\r\n          isOnline: Math.random() > 0.5,\r\n          isVerified: !!data.medicalCode,\r\n          isActive: data.isActive || false,\r\n          categories: data.categories || [],\r\n          medicalCode: data.medicalCode || '',\r\n          contactInfo: data.contactInfo || '',\r\n          maxConcurrentConsultations: data.maxConcurrentConsultations || 3,\r\n          description: `Dr. ${data.user?.lastName} is a medical specialist with extensive experience.`,\r\n          education: 'Medical degree',\r\n          profileImage: this.defaultDoctorImage\r\n        };\r\n        \r\n        // Store doctor schedules\r\n        this.doctorSchedules = data.schedules || {};\r\n        \r\n      } catch (err) {\r\n        console.error('Error fetching doctor data:', err);\r\n        this.error = err.message || 'Failed to load doctor information. Please try again.';\r\n        \r\n        // Use mock data for development\r\n        if (process.env.NODE_ENV === 'development') {\r\n          this.useMockDoctorData();\r\n        }\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    useMockDoctorData() {\r\n      const doctorId = this.$route.params.id;\r\n      this.doctor = {\r\n        id: doctorId,\r\n        firstName: 'James',\r\n        lastName: 'Wilson',\r\n        specialty: 'Cardiology',\r\n        consultationFee: 250,\r\n        consultationTime: 30,\r\n        rating: 4.8,\r\n        reviewCount: 342,\r\n        experience: 15,\r\n        isOnline: true,\r\n        isVerified: true,\r\n        isActive: true,\r\n        categories: ['cardiology'],\r\n        medicalCode: 'CA-123456',\r\n        contactInfo: '+1 (555) 123-4567',\r\n        email: 'dr.wilson@medicare.com',\r\n        maxConcurrentConsultations: 3,\r\n        description: 'Dr. Wilson is a board-certified cardiologist with 15 years of experience specializing in heart diseases.',\r\n        education: 'MD, Harvard Medical School',\r\n        profileImage: this.defaultDoctorImage\r\n      };\r\n      \r\n      // Mock schedules\r\n      this.doctorSchedules = {\r\n        \"1\": [ // Saturday\r\n          {\r\n            id: 1,\r\n            startTime: \"09:00\",\r\n            endTime: \"09:30\",\r\n            duration: null\r\n          },\r\n          {\r\n            id: 2,\r\n            startTime: \"10:00\",\r\n            endTime: \"10:30\",\r\n            duration: null\r\n          }\r\n        ],\r\n        \"2\": [ // Sunday\r\n          {\r\n            id: 3,\r\n            startTime: \"14:00\",\r\n            endTime: \"14:30\",\r\n            duration: null\r\n          },\r\n          {\r\n            id: 4,\r\n            startTime: \"15:00\",\r\n            endTime: \"15:30\",\r\n            duration: null\r\n          }\r\n        ],\r\n        \"3\": [ // Monday\r\n          {\r\n            id: 5,\r\n            startTime: \"11:00\",\r\n            endTime: \"11:30\",\r\n            duration: null\r\n          }\r\n        ]\r\n      };\r\n    },\r\n    \r\n    getSpecialtyFromCategories(categories) {\r\n      if (!categories || categories.length === 0) {\r\n        return 'General Medicine';\r\n      }\r\n      \r\n      const category = this.medicalCategories.find(c => c.id === categories[0]);\r\n      return category ? category.name : 'General Medicine';\r\n    },\r\n    \r\n    getRandomRating() {\r\n      return parseFloat((3.5 + Math.random() * 1.5).toFixed(1));\r\n    },\r\n    \r\n    getRandomReviewCount() {\r\n      return Math.floor(Math.random() * 450) + 50;\r\n    },\r\n    \r\n    getRandomExperience() {\r\n      return Math.floor(Math.random() * 30) + 1;\r\n    },\r\n    \r\n    async fetchAvailableTimeSlots() {\r\n      if (!this.selectedDate) return;\r\n      \r\n      this.loadingTimeSlots = true;\r\n      this.availableTimeSlots = [];\r\n      \r\n      try {\r\n        const authToken = localStorage.getItem('authToken');\r\n        const doctorId = this.$route.params.id;\r\n        \r\n        // Convert selected date to Jalali format\r\n        const jalaliDate = this.convertToJalali(this.selectedDate);\r\n        console.log\r\n        const response = await fetch(`${this.apiBaseUrl}/doctors/${doctorId}/available-slots?date=${jalaliDate}`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${authToken}`\r\n          }\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        \r\n        if (Array.isArray(data)) {\r\n          this.availableTimeSlots = data;\r\n        }\r\n        \r\n      } catch (err) {\r\n        console.error('Error fetching time slots:', err);\r\n        \r\n        // Use mock data for development\r\n        if (process.env.NODE_ENV === 'development') {\r\n          this.useMockTimeSlots();\r\n        }\r\n      } finally {\r\n        this.loadingTimeSlots = false;\r\n      }\r\n    },\r\n    \r\n    useMockTimeSlots() {\r\n      // Generate mock time slots based on selected date\r\n      const date = moment(this.selectedDate);\r\n      const dayOfWeek = date.day(); // 0 = Sunday, 1 = Monday, etc.\r\n      \r\n      // Convert to Persian day numbering (Saturday = 1)\r\n      let persianDay;\r\n      if (dayOfWeek === 6) persianDay = 1; // Saturday\r\n      else if (dayOfWeek === 0) persianDay = 2; // Sunday\r\n      else if (dayOfWeek === 1) persianDay = 3; // Monday\r\n      else if (dayOfWeek === 2) persianDay = 4; // Tuesday\r\n      else if (dayOfWeek === 3) persianDay = 5; // Wednesday\r\n      else if (dayOfWeek === 4) persianDay = 6; // Thursday\r\n      else if (dayOfWeek === 5) persianDay = 7; // Friday\r\n      \r\n      const daySchedules = this.doctorSchedules[persianDay.toString()] || [];\r\n      \r\n      this.availableTimeSlots = daySchedules.map(schedule => ({\r\n        scheduleId: schedule.id,\r\n        startTime: schedule.startTime,\r\n        endTime: schedule.endTime,\r\n        remainingCapacity: Math.floor(Math.random() * 3) + 1\r\n      }));\r\n    },\r\n    \r\n    selectTimeSlot(slot) {\r\n      this.selectedSlot = slot;\r\n    },\r\n    \r\n    async goToTimeSelection() {\r\n      if (!this.selectedDate) return;\r\n      this.bookingStep = 2;\r\n    },\r\n    \r\n    async processPayment() {\r\n      this.processingPayment = true;\r\n      \r\n      try {\r\n        const authToken = localStorage.getItem('authToken');\r\n        const doctorId = this.$route.params.id;\r\n        \r\n        // Get patient ID from localStorage\r\n        const userData = JSON.parse(localStorage.getItem('userData') || '{}');\r\n        const patientId = userData.id;\r\n        \r\n        if (!patientId) {\r\n          throw new Error('Patient information not found. Please login again.');\r\n        }\r\n        \r\n        if (!this.selectedSlot) {\r\n          throw new Error('No time slot selected');\r\n        }\r\n        \r\n        // Convert selected date to Jalali format\r\n        const reservedDateJalali = this.convertToJalali(this.selectedDate);\r\n        \r\n        // Prepare booking payload\r\n        const bookingPayload = {\r\n          doctorId: parseInt(doctorId),\r\n          patientId: parseInt(patientId),\r\n          scheduleId: this.selectedSlot.scheduleId,\r\n          subject: this.consultationSubject,\r\n          description: this.consultationDescription,\r\n          reservedDateJalali: reservedDateJalali,\r\n          paymentMethod: this.paymentMethod\r\n        };\r\n        \r\n        // Submit reservation\r\n        const response = await fetch(`${this.apiBaseUrl}/consultations/`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${authToken}`\r\n          },\r\n          body: JSON.stringify(bookingPayload)\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          const errorData = await response.json();\r\n          throw new Error(errorData.message || 'Failed to book appointment');\r\n        }\r\n        \r\n        // Success\r\n        this.showSuccessModal = true;\r\n        \r\n      } catch (err) {\r\n        console.error('Payment error:', err);\r\n        alert(err.message || 'Payment failed. Please try again.');\r\n      } finally {\r\n        this.processingPayment = false;\r\n      }\r\n    },\r\n    \r\n    // Calendar Functions\r\n    initializeCalendar() {\r\n      this.updateCalendarDisplay();\r\n      this.generateCalendarDays();\r\n    },\r\n    \r\n    updateCalendarDisplay() {\r\n      this.persianMonth = this.currentDate.format('jMMMM');\r\n      this.persianYear = this.currentDate.format('jYYYY');\r\n    },\r\n    \r\n    generateCalendarDays() {\r\n      const days = [];\r\n      const startOfMonth = this.currentDate.clone().startOf('jMonth');\r\n      const endOfMonth = this.currentDate.clone().endOf('jMonth');\r\n      const startDay = startOfMonth.day(); // 0-6, 0 is Saturday in Persian calendar\r\n      \r\n      // Adjust for Persian week starting on Saturday\r\n      const persianStartDay = startDay === 6 ? 0 : startDay + 1;\r\n      \r\n      // Add empty days at the start\r\n      for (let i = 0; i < persianStartDay; i++) {\r\n        days.push({\r\n          date: null,\r\n          persianDay: '',\r\n          dateString: null,\r\n          available: false,\r\n          isToday: false\r\n        });\r\n      }\r\n      \r\n      // Add days of the month\r\n      for (let i = 1; i <= endOfMonth.jDate(); i++) {\r\n        const date = this.currentDate.clone().jDate(i).jYear(this.currentDate.jYear()).jMonth(this.currentDate.jMonth());\r\n        const gregorianDate = date.toDate();\r\n        const dateString = gregorianDate.toISOString().split('T')[0];\r\n        const today = moment();\r\n        const isToday = date.format('jYYYY/jMM/jDD') === today.format('jYYYY/jMM/jDD');\r\n        \r\n        // Check if this day is available (has schedules)\r\n        const dayOfWeek = date.day();\r\n        const persianDay = this.getPersianDayOfWeek(dayOfWeek);\r\n        const hasSchedules = this.doctorSchedules[persianDay.toString()] && \r\n                           this.doctorSchedules[persianDay.toString()].length > 0;\r\n        \r\n        days.push({\r\n          date: date,\r\n          persianDay: i.toString(),\r\n          dateString: dateString,\r\n          available: hasSchedules,\r\n          isToday: isToday\r\n        });\r\n      }\r\n      \r\n      // Add empty days at the end to make 6 rows (42 days)\r\n      const totalDays = days.length;\r\n      const remainingDays = 42 - totalDays;\r\n      for (let i = 0; i < remainingDays; i++) {\r\n        days.push({\r\n          date: null,\r\n          persianDay: '',\r\n          dateString: null,\r\n          available: false,\r\n          isToday: false\r\n        });\r\n      }\r\n      \r\n      // Take only the first 35 days for compact view (5 weeks)\r\n      this.compactCalendarDays = days.slice(0, 35);\r\n    },\r\n    \r\n    getPersianDayOfWeek(gregorianDay) {\r\n      // Convert Gregorian day (0=Sunday) to Persian day (1=Saturday, 7=Friday)\r\n      if (gregorianDay === 6) return 1; // Saturday\r\n      if (gregorianDay === 0) return 2; // Sunday\r\n      if (gregorianDay === 1) return 3; // Monday\r\n      if (gregorianDay === 2) return 4; // Tuesday\r\n      if (gregorianDay === 3) return 5; // Wednesday\r\n      if (gregorianDay === 4) return 6; // Thursday\r\n      if (gregorianDay === 5) return 7; // Friday\r\n    },\r\n    \r\n    previousMonth() {\r\n      this.currentDate.subtract(1, 'jMonth');\r\n      this.updateCalendarDisplay();\r\n      this.generateCalendarDays();\r\n    },\r\n    \r\n    nextMonth() {\r\n      this.currentDate.add(1, 'jMonth');\r\n      this.updateCalendarDisplay();\r\n      this.generateCalendarDays();\r\n    },\r\n    \r\n    selectDate(dateString) {\r\n      this.selectedDate = dateString;\r\n    },\r\n    \r\n    formatSelectedDate(dateString) {\r\n      if (!dateString) return '';\r\n      const date = moment(dateString);\r\n      return date.format('jYYYY/jMM/jDD');\r\n    },\r\n    \r\n    convertToJalali(dateString) {\r\n      const date = moment(dateString);\r\n      return date.format('jYYYY/jMM/jDD');\r\n    },\r\n    \r\n    getCategoryName(categoryId) {\r\n      const category = this.medicalCategories.find(c => c.id === categoryId);\r\n      return category ? category.name : categoryId;\r\n    },\r\n    \r\n    contactSupport() {\r\n      alert('Support contact feature coming soon!');\r\n    },\r\n    \r\n    goToAppointments() {\r\n      this.$router.push('/appointments');\r\n    },\r\n    \r\n    goToProfile() {\r\n      this.$router.push('/profile');\r\n    },\r\n    \r\n    goToConsultants() {\r\n      this.$router.push('/consultants');\r\n    },\r\n    \r\n    handleLogout() {\r\n      localStorage.removeItem('authToken');\r\n      localStorage.removeItem('userData');\r\n      this.$router.push('/login');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n/* Base Styles */\r\n.doctor-detail-container {\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n  position: relative;\r\n  overflow-x: hidden;\r\n  overflow-y: hidden;\r\n}\r\n\r\n/* Animated Background */\r\n.animated-bg {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 0;\r\n}\r\n\r\n.bg-circle {\r\n  position: absolute;\r\n  border-radius: 50%;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  animation: float 20s infinite linear;\r\n}\r\n\r\n.circle-1 {\r\n  width: 300px;\r\n  height: 300px;\r\n  top: -150px;\r\n  left: -150px;\r\n  animation-delay: 0s;\r\n}\r\n\r\n.circle-2 {\r\n  width: 200px;\r\n  height: 200px;\r\n  bottom: -100px;\r\n  right: -100px;\r\n  animation-delay: 10s;\r\n}\r\n\r\n.circle-3 {\r\n  width: 150px;\r\n  height: 150px;\r\n  top: 50%;\r\n  right: 10%;\r\n  animation-delay: 5s;\r\n}\r\n\r\n.bg-pulse {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: radial-gradient(circle at center, transparent 0%, rgba(255, 255, 255, 0.03) 100%);\r\n  animation: pulse 4s infinite ease-in-out;\r\n}\r\n\r\n@keyframes float {\r\n  0%, 100% {\r\n    transform: translate(0, 0) rotate(0deg);\r\n  }\r\n  25% {\r\n    transform: translate(50px, 50px) rotate(90deg);\r\n  }\r\n  50% {\r\n    transform: translate(0, 100px) rotate(180deg);\r\n  }\r\n  75% {\r\n    transform: translate(-50px, 50px) rotate(270deg);\r\n  }\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% {\r\n    opacity: 0.5;\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    opacity: 0.8;\r\n    transform: scale(1.02);\r\n  }\r\n}\r\n\r\n/* Header Styles (Your provided header) */\r\n.doctors-header {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(10px);\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 100;\r\n}\r\n\r\n.header-content {\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 16px 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 30px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .header-content {\r\n    padding: 16px 24px;\r\n    gap: 20px;\r\n  }\r\n}\r\n\r\n.header-content .back-btn {\r\n  width: 48px;\r\n  height: 48px;\r\n  background: #f7f9fc;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.header-content .back-btn:hover {\r\n  background: #667eea;\r\n  border-color: #667eea;\r\n  transform: translateX(-2px);\r\n}\r\n\r\n.header-content .back-btn:hover svg {\r\n  color: white;\r\n}\r\n\r\n.header-content .back-btn svg {\r\n  width: 24px;\r\n  height: 24px;\r\n  color: #4a5568;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.header-info {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.header-title {\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin: 0 0 4px 0;\r\n}\r\n\r\n.header-subtitle {\r\n  font-size: 14px;\r\n  color: #718096;\r\n  margin: 0;\r\n}\r\n\r\n.user-profile {\r\n  position: relative;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.profile-img {\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  cursor: pointer;\r\n  border: 3px solid #667eea;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.profile-img:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.profile-menu {\r\n  position: absolute;\r\n  top: 100%;\r\n  right: 0;\r\n  margin-top: 8px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);\r\n  border: 1px solid #e2e8f0;\r\n  min-width: 200px;\r\n  z-index: 1000;\r\n  overflow: hidden;\r\n}\r\n\r\n.menu-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 14px 20px;\r\n  font-size: 14px;\r\n  color: #4a5568;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  border-bottom: 1px solid #f7f9fc;\r\n}\r\n\r\n.menu-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.menu-item:hover {\r\n  background: #f7f9fc;\r\n  color: #667eea;\r\n}\r\n\r\n.menu-item svg {\r\n  width: 18px;\r\n  height: 18px;\r\n}\r\n\r\n.menu-item.logout {\r\n  color: #e53e3e;\r\n}\r\n\r\n.menu-item.logout:hover {\r\n  background: #fff5f5;\r\n  color: #c53030;\r\n}\r\n\r\n/* Loading State */\r\n.loading-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 100px 20px;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.loading-container .spinner {\r\n  width: 60px;\r\n  height: 60px;\r\n  border: 4px solid rgba(255, 255, 255, 0.3);\r\n  border-top-color: white;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.loading-container p {\r\n  font-size: 16px;\r\n  color: white;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Error State */\r\n.error-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 100px 20px;\r\n  position: relative;\r\n  z-index: 1;\r\n  text-align: center;\r\n}\r\n\r\n.error-container svg {\r\n  width: 80px;\r\n  height: 80px;\r\n  color: white;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.error-container h3 {\r\n  font-size: 24px;\r\n  color: white;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.error-container p {\r\n  font-size: 16px;\r\n  color: rgba(255, 255, 255, 0.9);\r\n  margin-bottom: 24px;\r\n  max-width: 400px;\r\n}\r\n\r\n.retry-btn {\r\n  padding: 12px 32px;\r\n  background: white;\r\n  color: #667eea;\r\n  border: none;\r\n  border-radius: 12px;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.retry-btn:hover {\r\n  background: #f7f9fc;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n/* Main Content */\r\n.detail-content {\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.content-wrapper {\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 40px;\r\n  display: grid;\r\n  grid-template-columns: 1fr 400px;\r\n  gap: 40px;\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .content-wrapper {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .content-wrapper {\r\n    padding: 24px;\r\n    gap: 30px;\r\n  }\r\n}\r\n\r\n/* Left Column Styles */\r\n.info-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 30px;\r\n}\r\n\r\n/* Profile Card */\r\n.profile-card {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 20px;\r\n  padding: 32px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.profile-header {\r\n  display: flex;\r\n  gap: 24px;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .profile-header {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n.profile-image {\r\n  position: relative;\r\n  width: 120px;\r\n  height: 120px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.profile-image img {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 20px;\r\n  object-fit: cover;\r\n  border: 4px solid #667eea;\r\n}\r\n\r\n.online-status {\r\n  position: absolute;\r\n  bottom: -6px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  padding: 4px 12px;\r\n  background: #48bb78;\r\n  color: white;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n  border: 2px solid white;\r\n}\r\n\r\n.online-status.offline {\r\n  background: #a0aec0;\r\n}\r\n\r\n.profile-info {\r\n  flex: 1;\r\n}\r\n\r\n.name-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin-bottom: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.doctor-name {\r\n  font-size: 28px;\r\n  font-weight: 800;\r\n  color: #2d3748;\r\n  margin: 0;\r\n}\r\n\r\n.verification-badge {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 6px 12px;\r\n  background: #48bb78;\r\n  color: white;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n}\r\n\r\n.verification-badge svg {\r\n  width: 14px;\r\n  height: 14px;\r\n}\r\n\r\n.doctor-specialty {\r\n  font-size: 18px;\r\n  color: #667eea;\r\n  font-weight: 600;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.rating-section {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n}\r\n\r\n.rating-display {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.stars {\r\n  display: flex;\r\n  gap: 2px;\r\n}\r\n\r\n.stars svg {\r\n  width: 24px;\r\n  height: 24px;\r\n  color: #e2e8f0;\r\n}\r\n\r\n.stars svg.filled {\r\n  color: #ffd700;\r\n}\r\n\r\n.stars svg.half {\r\n  color: #ffd700;\r\n  clip-path: inset(0 50% 0 0);\r\n}\r\n\r\n.rating-value {\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n}\r\n\r\n.review-count {\r\n  color: #718096;\r\n  font-size: 14px;\r\n}\r\n\r\n/* Quick Stats */\r\n.quick-stats {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 20px;\r\n  padding: 20px;\r\n  background: #f7f9fc;\r\n  border-radius: 16px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .quick-stats {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n}\r\n\r\n.stat {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n\r\n.stat-number {\r\n  font-size: 28px;\r\n  font-weight: 800;\r\n  color: #667eea;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 12px;\r\n  color: #718096;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Details Sections */\r\n.details-sections {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 30px;\r\n}\r\n\r\n.detail-section {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 20px;\r\n  padding: 32px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.section-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.section-title svg {\r\n  width: 24px;\r\n  height: 24px;\r\n  color: #667eea;\r\n}\r\n\r\n/* Categories */\r\n.categories-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n}\r\n\r\n.category-tag {\r\n  padding: 8px 20px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Contact Information */\r\n.contact-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.contact-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n.contact-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.contact-label {\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  font-size: 14px;\r\n}\r\n\r\n.contact-value {\r\n  color: #2d3748;\r\n  font-weight: 500;\r\n}\r\n\r\n/* Consultation Details */\r\n.consultation-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.detail-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.detail-label {\r\n  color: #718096;\r\n  font-size: 14px;\r\n}\r\n\r\n.detail-value {\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n}\r\n\r\n.detail-value.fee {\r\n  color: #667eea;\r\n  font-size: 18px;\r\n}\r\n\r\n/* About Doctor */\r\n.about-text {\r\n  color: #4a5568;\r\n  line-height: 1.6;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.education {\r\n  padding: 12px 16px;\r\n  background: #f7f9fc;\r\n  border-radius: 12px;\r\n  font-size: 14px;\r\n  color: #4a5568;\r\n}\r\n\r\n/* Right Column - Booking Widget */\r\n.booking-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 30px;\r\n}\r\n\r\n.booking-widget {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 20px;\r\n  padding: 32px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  position: sticky;\r\n  top: 100px;\r\n}\r\n\r\n@media (max-width: 1200px) {\r\n  .booking-widget {\r\n    position: static;\r\n  }\r\n}\r\n\r\n.widget-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.widget-header h3 {\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin: 0;\r\n}\r\n\r\n.consultation-fee {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n}\r\n\r\n.fee-label {\r\n  font-size: 12px;\r\n  color: #718096;\r\n}\r\n\r\n.fee-amount {\r\n  font-size: 32px;\r\n  font-weight: 800;\r\n  color: #667eea;\r\n}\r\n\r\n/* Booking Steps */\r\n.booking-steps {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.step {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8px;\r\n  flex: 1;\r\n}\r\n\r\n.step-number {\r\n  width: 36px;\r\n  height: 36px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #e2e8f0;\r\n  border-radius: 50%;\r\n  font-weight: 600;\r\n  color: #718096;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.step.active .step-number {\r\n  background: #667eea;\r\n  color: white;\r\n  transform: scale(1.1);\r\n}\r\n\r\n.step.completed .step-number {\r\n  background: #48bb78;\r\n  color: white;\r\n}\r\n\r\n.step-label {\r\n  font-size: 11px;\r\n  color: #718096;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n}\r\n\r\n.step.active .step-label {\r\n  color: #667eea;\r\n  font-weight: 600;\r\n}\r\n\r\n.step-connector {\r\n  flex: 1;\r\n  height: 2px;\r\n  background: #e2e8f0;\r\n  margin: 0 5px;\r\n}\r\n\r\n.step.completed + .step-connector {\r\n  background: #48bb78;\r\n}\r\n\r\n/* Back Button */\r\n.back-step-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 10px 16px;\r\n  background: #f7f9fc;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 10px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  margin-bottom: 24px;\r\n  width: fit-content;\r\n}\r\n\r\n.back-step-btn:hover {\r\n  background: #edf2f7;\r\n  border-color: #cbd5e0;\r\n  color: #667eea;\r\n}\r\n\r\n.back-step-btn svg {\r\n  width: 16px;\r\n  height: 16px;\r\n}\r\n\r\n/* Booking Step Content */\r\n.booking-step {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n}\r\n\r\n.booking-step h4 {\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin: 0;\r\n}\r\n\r\n.step-description {\r\n  color: #718096;\r\n  font-size: 14px;\r\n  margin: 0;\r\n}\r\n\r\n/* Compact Calendar */\r\n.compact-calendar {\r\n  background: #f7f9fc;\r\n  border-radius: 16px;\r\n  padding: 16px;\r\n  border: 2px solid #e2e8f0;\r\n}\r\n\r\n.calendar-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.calendar-nav {\r\n  width: 36px;\r\n  height: 36px;\r\n  background: white;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.calendar-nav:hover {\r\n  border-color: #667eea;\r\n  background: #667eea;\r\n}\r\n\r\n.calendar-nav:hover svg {\r\n  color: white;\r\n}\r\n\r\n.calendar-nav svg {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #4a5568;\r\n}\r\n\r\n.calendar-title {\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin: 0;\r\n}\r\n\r\n.compact-weekdays {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  gap: 4px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.compact-weekdays .weekday {\r\n  text-align: center;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  color: #718096;\r\n  padding: 6px;\r\n}\r\n\r\n.compact-days {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  gap: 4px;\r\n}\r\n\r\n.compact-day {\r\n  aspect-ratio: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: white;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n}\r\n\r\n.compact-day:hover:not(.empty):not(.unavailable) {\r\n  border-color: #667eea;\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.compact-day.selected {\r\n  background: #667eea;\r\n  border-color: #667eea;\r\n  color: white;\r\n}\r\n\r\n.compact-day.today {\r\n  border-color: #48bb78;\r\n}\r\n\r\n.compact-day.available {\r\n  border-color: #c6f6d5;\r\n}\r\n\r\n.compact-day.unavailable {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n  background: #f7f9fc;\r\n}\r\n\r\n.compact-day.empty {\r\n  background: transparent;\r\n  border-color: transparent;\r\n  cursor: default;\r\n  visibility: hidden;\r\n}\r\n\r\n.date-selection-info {\r\n  padding: 16px;\r\n  background: #f7f9fc;\r\n  border-radius: 12px;\r\n  text-align: center;\r\n}\r\n\r\n.date-selection-info p {\r\n  margin: 0;\r\n  color: #4a5568;\r\n}\r\n\r\n/* Time Slots */\r\n.time-slots-container {\r\n  background: #f7f9fc;\r\n  border-radius: 16px;\r\n  padding: 20px;\r\n  border: 2px solid #e2e8f0;\r\n}\r\n\r\n.time-slots-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.time-slots-header span {\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n}\r\n\r\n/* Loading Time Slots */\r\n.loading-time-slots {\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n}\r\n\r\n.loading-time-slots .spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid rgba(102, 126, 234, 0.3);\r\n  border-top-color: #667eea;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto 16px;\r\n}\r\n\r\n.loading-time-slots p {\r\n  color: #718096;\r\n  font-size: 14px;\r\n}\r\n\r\n.time-slots-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 12px;\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .time-slots-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n}\r\n\r\n.time-slot {\r\n  padding: 16px;\r\n  background: white;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 12px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  text-align: center;\r\n}\r\n\r\n.time-slot:hover {\r\n  border-color: #cbd5e0;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.time-slot.selected {\r\n  background: #667eea;\r\n  border-color: #667eea;\r\n  color: white;\r\n}\r\n\r\n.no-slots-message {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px 20px;\r\n  text-align: center;\r\n}\r\n\r\n.no-slots-message svg {\r\n  width: 48px;\r\n  height: 48px;\r\n  color: #a0aec0;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.no-slots-message p {\r\n  color: #718096;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.time-selection-info {\r\n  padding: 16px;\r\n  background: #f7f9fc;\r\n  border-radius: 12px;\r\n}\r\n\r\n.time-selection-info p {\r\n  margin: 8px 0;\r\n  color: #4a5568;\r\n}\r\n\r\n/* Consultation Options */\r\n.consultation-options {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.consultation-option {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 16px;\r\n  background: white;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.consultation-option:hover {\r\n  border-color: #cbd5e0;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.consultation-option.selected {\r\n  border-color: #667eea;\r\n  background: #f7f9fc;\r\n}\r\n\r\n.option-icon {\r\n  width: 40px;\r\n  height: 40px;\r\n  background: #f7f9fc;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.option-icon svg {\r\n  width: 20px;\r\n  height: 20px;\r\n  color: #667eea;\r\n}\r\n\r\n.option-info {\r\n  flex: 1;\r\n}\r\n\r\n.option-info h6 {\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.option-info p {\r\n  font-size: 13px;\r\n  color: #718096;\r\n  margin: 0;\r\n}\r\n\r\n.option-check {\r\n  width: 24px;\r\n  height: 24px;\r\n  background: #667eea;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.option-check svg {\r\n  width: 14px;\r\n  height: 14px;\r\n  color: white;\r\n}\r\n\r\n/* Consultation Type */\r\n.type-options {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.type-option {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 16px;\r\n  background: white;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.type-option:hover {\r\n  border-color: #cbd5e0;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.type-option.selected {\r\n  border-color: #667eea;\r\n  background: #f7f9fc;\r\n}\r\n\r\n.type-icon {\r\n  width: 40px;\r\n  height: 40px;\r\n  background: #f7f9fc;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.type-icon svg {\r\n  width: 20px;\r\n  height: 20px;\r\n  color: #667eea;\r\n}\r\n\r\n.type-info {\r\n  flex: 1;\r\n}\r\n\r\n.type-info h6 {\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.type-info p {\r\n  font-size: 13px;\r\n  color: #718096;\r\n  margin: 0;\r\n}\r\n\r\n.type-check {\r\n  width: 24px;\r\n  height: 24px;\r\n  background: #667eea;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.type-check svg {\r\n  width: 14px;\r\n  height: 14px;\r\n  color: white;\r\n}\r\n\r\n/* Patient Information */\r\n.patient-information {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.patient-information h5 {\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 12px 16px;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 10px;\r\n  font-size: 14px;\r\n  color: #2d3748;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.form-group input:focus {\r\n  outline: none;\r\n  border-color: #667eea;\r\n  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n}\r\n\r\n.form-group input.error {\r\n  border-color: #e53e3e;\r\n}\r\n\r\n.error-message {\r\n  font-size: 12px;\r\n  color: #e53e3e;\r\n  margin-top: 6px;\r\n}\r\n\r\n/* Validation Messages */\r\n.validation-message {\r\n  padding: 16px;\r\n  border-radius: 12px;\r\n  margin-top: 16px;\r\n}\r\n\r\n.info-message {\r\n  background: #f7f9fc;\r\n  border: 2px solid #e2e8f0;\r\n  color: #4a5568;\r\n}\r\n\r\n.success-message {\r\n  background: #f0fff4;\r\n  border: 2px solid #c6f6d5;\r\n  color: #22543d;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n}\r\n\r\n.warning-message {\r\n  background: #fffaf0;\r\n  border: 2px solid #fed7d7;\r\n  color: #742a2a;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n}\r\n\r\n.success-message svg {\r\n  width: 20px;\r\n  height: 20px;\r\n  color: #48bb78;\r\n  flex-shrink: 0;\r\n  margin-top: 2px;\r\n}\r\n\r\n.warning-message svg {\r\n  width: 20px;\r\n  height: 20px;\r\n  color: #e53e3e;\r\n  flex-shrink: 0;\r\n  margin-top: 2px;\r\n}\r\n\r\n.success-message p,\r\n.warning-message p {\r\n  margin: 0;\r\n  font-size: 13px;\r\n  line-height: 1.4;\r\n}\r\n\r\n.warning-message a {\r\n  color: #667eea;\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n}\r\n\r\n/* Appointment Summary */\r\n.appointment-summary {\r\n  background: #f7f9fc;\r\n  border-radius: 16px;\r\n  padding: 24px;\r\n}\r\n\r\n.appointment-summary h5 {\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.summary-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.summary-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n.summary-row:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.summary-row.total {\r\n  padding-top: 12px;\r\n  border-top: 2px solid #e2e8f0;\r\n  font-size: 18px;\r\n}\r\n\r\n.total-amount {\r\n  color: #667eea;\r\n  font-size: 24px;\r\n}\r\n\r\n/* Payment Methods */\r\n.payment-methods {\r\n  margin-top: 24px;\r\n}\r\n\r\n.payment-methods h5 {\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.payment-options {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.payment-option {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 20px;\r\n  background: white;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 16px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.payment-option:hover {\r\n  border-color: #cbd5e0;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.payment-option.selected {\r\n  border-color: #667eea;\r\n  background: #f7f9fc;\r\n}\r\n\r\n.payment-icon {\r\n  width: 48px;\r\n  height: 48px;\r\n  background: #f7f9fc;\r\n  border-radius: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.payment-icon svg {\r\n  width: 24px;\r\n  height: 24px;\r\n  color: #667eea;\r\n}\r\n\r\n.payment-info {\r\n  flex: 1;\r\n}\r\n\r\n.payment-info h6 {\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.payment-info p {\r\n  font-size: 13px;\r\n  color: #718096;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.wallet-balance {\r\n  font-size: 12px;\r\n  color: #48bb78;\r\n  font-weight: 600;\r\n}\r\n\r\n.gateway-info {\r\n  font-size: 12px;\r\n  color: #667eea;\r\n  font-weight: 600;\r\n}\r\n\r\n.payment-check {\r\n  width: 24px;\r\n  height: 24px;\r\n  background: #667eea;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.payment-check svg {\r\n  width: 14px;\r\n  height: 14px;\r\n  color: white;\r\n}\r\n\r\n/* Payment Validation */\r\n.payment-validation {\r\n  margin-top: 24px;\r\n}\r\n\r\n.insufficient-balance {\r\n  padding: 20px;\r\n  background: #fff5f5;\r\n  border: 2px solid #fed7d7;\r\n  border-radius: 16px;\r\n  text-align: center;\r\n}\r\n\r\n.insufficient-balance svg {\r\n  width: 48px;\r\n  height: 48px;\r\n  color: #e53e3e;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.insufficient-balance p {\r\n  color: #c53030;\r\n  margin-bottom: 16px;\r\n  font-weight: 500;\r\n}\r\n\r\n.switch-to-gateway {\r\n  padding: 12px 24px;\r\n  background: #667eea;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 12px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.switch-to-gateway:hover {\r\n  background: #5a67d8;\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.confirmation-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.checkbox-container {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 12px;\r\n  cursor: pointer;\r\n  color: #4a5568;\r\n  font-size: 14px;\r\n}\r\n\r\n.checkbox-container input {\r\n  display: none;\r\n}\r\n\r\n.checkmark {\r\n  width: 20px;\r\n  height: 20px;\r\n  background: white;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 6px;\r\n  position: relative;\r\n  flex-shrink: 0;\r\n  margin-top: 2px;\r\n}\r\n\r\n.checkbox-container input:checked + .checkmark {\r\n  background: #667eea;\r\n  border-color: #667eea;\r\n}\r\n\r\n.checkbox-container input:checked + .checkmark:after {\r\n  content: '';\r\n  position: absolute;\r\n  left: 6px;\r\n  top: 2px;\r\n  width: 6px;\r\n  height: 10px;\r\n  border: solid white;\r\n  border-width: 0 2px 2px 0;\r\n  transform: rotate(45deg);\r\n}\r\n\r\n.confirm-payment-btn {\r\n  padding: 18px 24px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 12px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 12px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.confirm-payment-btn:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);\r\n}\r\n\r\n.confirm-payment-btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.confirm-payment-btn .spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid rgba(255, 255, 255, 0.3);\r\n  border-top-color: white;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n.payment-note {\r\n  font-size: 12px;\r\n  color: #718096;\r\n  text-align: center;\r\n  margin: 0;\r\n}\r\n\r\n/* Navigation Buttons */\r\n.next-step-btn {\r\n  width: 100%;\r\n  padding: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 12px;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  border-radius: 12px;\r\n  transition: all 0.3s ease;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  margin-top: 20px;\r\n}\r\n\r\n.next-step-btn:hover:not(:disabled) {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);\r\n}\r\n\r\n.next-step-btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.next-step-btn svg {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n\r\n/* Contact Card */\r\n.contact-card {\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(10px);\r\n  border-radius: 20px;\r\n  padding: 24px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  text-align: center;\r\n}\r\n\r\n.contact-card h4 {\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.contact-card p {\r\n  color: #718096;\r\n  font-size: 14px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.contact-support-btn {\r\n  width: 100%;\r\n  padding: 14px;\r\n  background: #f7f9fc;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 12px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #4a5568;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.contact-support-btn:hover {\r\n  background: #edf2f7;\r\n  border-color: #cbd5e0;\r\n  color: #667eea;\r\n}\r\n\r\n.contact-support-btn svg {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n\r\n/* Success Modal */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  backdrop-filter: blur(10px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n  padding: 20px;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 24px;\r\n  width: 100%;\r\n  max-width: 500px;\r\n  animation: modalSlideIn 0.3s ease;\r\n}\r\n\r\n@keyframes modalSlideIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.success-modal {\r\n  padding: 40px;\r\n  text-align: center;\r\n}\r\n\r\n.modal-icon {\r\n  width: 80px;\r\n  height: 80px;\r\n  background: #48bb78;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 auto 24px;\r\n}\r\n\r\n.modal-icon svg {\r\n  width: 40px;\r\n  height: 40px;\r\n  color: white;\r\n}\r\n\r\n.success-modal h3 {\r\n  font-size: 28px;\r\n  font-weight: 800;\r\n  color: #2d3748;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.success-modal p {\r\n  color: #718096;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.appointment-details-modal {\r\n  background: #f7f9fc;\r\n  border-radius: 16px;\r\n  padding: 24px;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.appointment-details-modal .detail-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 0;\r\n  border-bottom: 1px solid #e2e8f0;\r\n}\r\n\r\n.appointment-details-modal .detail-row:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.appointment-details-modal .detail-row .amount {\r\n  color: #667eea;\r\n  font-size: 20px;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.modal-btn {\r\n  flex: 1;\r\n  padding: 16px;\r\n  border-radius: 12px;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.modal-btn.secondary {\r\n  background: #f7f9fc;\r\n  border: 2px solid #e2e8f0;\r\n  color: #4a5568;\r\n}\r\n\r\n.modal-btn.secondary:hover {\r\n  background: #edf2f7;\r\n  border-color: #cbd5e0;\r\n}\r\n\r\n.modal-btn.primary {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  border: none;\r\n  color: white;\r\n}\r\n\r\n.modal-btn.primary:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);\r\n}\r\n\r\n.modal-note {\r\n  font-size: 12px;\r\n  color: #718096;\r\n  margin: 0;\r\n}\r\n\r\n/* Spinner Animation */\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}